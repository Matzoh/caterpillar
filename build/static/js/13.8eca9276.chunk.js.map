{"version":3,"sources":["Pages/Test1/index.module.scss","Pages/Test1/index.js"],"names":["module","exports","Confetti","useRef","useState","useEffect","className","style","coin","defaultSize","number","numSymbol"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,wBAA0B,uCAAuC,IAAM,mBAAmB,KAAO,oBAAoB,UAAY,yBAAyB,WAAa,0BAA0B,OAAS,sBAAsB,IAAM,mBAAmB,WAAW,0B,6HC0GvQC,UAnGE,WACAC,iBAAO,MACRA,iBAAO,MADrB,IADqB,EAGDC,mBAAS,gBAHR,6BA0CrBC,qBAAU,cAIP,IAmCH,OACE,mCAUE,qBAAKC,UAAWC,IAAMC,KAAtB,SACE,cAAC,IAAD,CAAcC,YAAa,GAAIC,OAAQC,YAAU","file":"static/js/13.8eca9276.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"caterpillar_dialog_hide\":\"Test1_caterpillar_dialog_hide__20XKl\",\"txt\":\"Test1_txt__2NP91\",\"coin\":\"Test1_coin__1mADc\",\"scrolling\":\"Test1_scrolling__3Uc__\",\"colorCycle\":\"Test1_colorCycle__2kemC\",\"rotate\":\"Test1_rotate__Br0e5\",\"run\":\"Test1_run__9mEND\",\"slide-up\":\"Test1_slide-up__3AcHi\"};","import React, { useRef, useEffect, useState } from 'react'\nimport confetti from 'canvas-confetti'\nimport Toast from '@/Components/Toast'\nimport ScrollNumber from '@/Components/ScrollNumber'\nimport { div } from '@/Utils/math'\nimport style from './index.module.scss'\nimport { toPercent, numSymbol } from '@/Utils/util'\n\nconst Confetti = () => {\n  const aniRef = useRef(null)\n  const inter = useRef(null)\n  let [num, setNum] = useState(81624053456789)\n\n  // useEffect(() => {\n  //   Toast.info('', '恭喜你，完成测试！')\n  // }, [])\n  function shoot() {\n    let canvas = aniRef.current\n    var scalar = 1\n    var pineapple = confetti.shapeFromText({ text: '✨' })\n\n    // you should  only initialize a canvas once, so save this function\n    // we'll save it to the canvas itself for the purpose of this demo\n    canvas.confetti =\n      canvas.confetti || confetti.create(canvas, { resize: true })\n    const defaults = {\n      spread: 90,\n      ticks: 60, // 移动的速度\n      // gravity: 0,\n      // decay: 0.9,\n      startVelocity: 20,\n      colors: ['FFE400', 'FFBD00', 'E89400', 'FFCA6C', 'FDFFB8'],\n      flat: true, //是否关闭三维五彩纸屑的倾斜和摆动\n      gravity: 0.8,\n      origin: { y: 1 },\n    }\n    canvas.confetti({\n      ...defaults,\n      particleCount: 10,\n      scalar: 0.5,\n      shapes: ['star'],\n    })\n\n    canvas.confetti({\n      ...defaults,\n      particleCount: 20,\n      scalar: 0.25,\n      shapes: ['star'],\n    })\n  }\n  useEffect(() => {\n    // setTimeout(shoot, 0)\n    // setTimeout(shoot, 100)\n    // setTimeout(shoot, 200)\n  }, [])\n  const handleCli = (e) => {\n    var pineapple = confetti.shapeFromText({\n      text: '+1',\n      fontFamily: 'SF Pixelate',\n      color: '#595c64',\n      fontStyle: 'bold',\n      scalar: 10,\n    })\n    let x = e.clientX\n    let y = e.clientY\n    var screenFullWidth = window.screen.width\n    var screenFullHeight = window.screen.height\n\n    console.log(\n      e,\n      x,\n      y,\n      screenFullWidth,\n      screenFullHeight,\n      div(x, screenFullWidth),\n      div(y, screenFullHeight)\n    )\n\n    confetti({\n      particleCount: 100,\n      ticks: 50,\n      origin: { x: div(x, screenFullWidth), y: div(y, screenFullHeight) },\n      shapes: [pineapple],\n      gravity: -1,\n      startVelocity: 1,\n      flat: true,\n      scalar: 2,\n    })\n  }\n  return (\n    <>\n      {/* <div\n        onClick={handleCli}\n        style={{\n          width: '300px',\n          height: '500px',\n          background: 'red',\n          margin: '10px auto',\n        }}></div>\n      <canvas width={200} height={50} ref={aniRef}></canvas> */}\n      <div className={style.coin}>\n        <ScrollNumber defaultSize={52} number={numSymbol(1258960574)} />\n      </div>\n    </>\n  )\n}\n\nexport default Confetti\n"],"sourceRoot":""}