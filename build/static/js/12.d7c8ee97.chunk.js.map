{"version":3,"sources":["Contanst/list.js","Pages/Boosters/index.module.scss","Contanst/update.js","Helper/apis/boosters.js","Pages/Boosters/index.js"],"names":["BOOSTERS_CONFIG","title","list","field","icon","type","hit","updatedTxt","upDateTemplete","fieldConfig","current","next","upGradePort","module","exports","UNUPDATE_CONFIG","full","lock","getUpgradeList","params","isLoading","a","ajax","get","res","storeUtil","setUpgradeInfo","handleUpgrade","port","post","connect","state","isBuying","behavior","upgradeInfo","user","props","useEffect","energyBonus","hideLoading","showLoading","CommonWrapper","className","styles","wrapper","ani","card","card_title","card_info","num","numSymbol","coins","TabList","map","item","currentData","isMax","currentLevel","upgradeCost","val","status","currentVal","nextVal","filter","Boolean","styleType","handleItemCli","includes","Toast","info","setIsBuying","buyToolsDialog","handleConfirm","getIsBuying","$","hide","replace","toPercent","energyCap","recoveryRate","bonusMultiplier","setUserInfo","getUserInfo","setEnergyInfo","getEnergyInfo","rate","energyCost","favorBonus","coinBonus","handleCancel"],"mappings":"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","file":"static/js/12.d7c8ee97.chunk.js","sourcesContent":["export const BOOSTERS_CONFIG = {\n  title: 'Boosters',\n  list: [\n    {\n      field: 'energyBonus',\n      title: 'Affection',\n      icon: 'affection',\n      type: '1',\n      hit: 'Purchased \"Favorability Potion\" to increase the benefit of a single click.',\n      updatedTxt:\n        'Purchased \"Favorability Boost\". Now your earnings per click limit has been increased.',\n      upDateTemplete: '+X',\n      fieldConfig: {\n        current: 'currentBonus',\n        next: 'nextBonus',\n      },\n      upGradePort: 'upgrade/energy-bonus',\n    },\n    {\n      field: 'energyCap',\n      title: 'Energy Cap',\n      icon: 'energy',\n      type: '1',\n      hit: 'Purchased \"Energy Strengthening Potion\" to increase your energy capacity.',\n      updatedTxt:\n        'Purchased \"Energy Limit Boost\". Now your energy limit has been increased.',\n      upDateTemplete: 'X',\n      fieldConfig: {\n        current: 'currentCapacity',\n        next: 'nextCapacity',\n      },\n      upGradePort: 'upgrade/energy-cap',\n    },\n    {\n      field: 'energyRecovery',\n      title: 'Recharging Speed',\n      icon: 'speed',\n      type: '1',\n      hit: 'Purchase \"Recharge Potion\" to increase the speed of your energy replenishment.',\n      updatedTxt:\n        'Purchased \"Charge Speed Up\". Now your charging speed has been increased.',\n      upDateTemplete: '+X/S',\n      fieldConfig: {\n        current: 'currentRate',\n        next: 'nextRate',\n      },\n      upGradePort: 'upgrade/energy-recovery',\n    },\n    {\n      field: 'miningStorage',\n      title: 'Storage Time',\n      icon: 'time',\n      type: '1',\n      hit: 'Purchase a Time Potion to increase your mining storage time.',\n      updatedTxt:\n        'Purchased \"Storage Time Boost\". Now your storage time has increased.',\n      upDateTemplete: 'XH',\n      fieldConfig: {\n        current: 'currentPeriods',\n        next: 'nextPeriods',\n      },\n      upGradePort: 'upgrade/mining-storage',\n    },\n    {\n      field: 'increaseFavor',\n      title: 'Increase Favorability',\n      icon: 'increase',\n      type: '2',\n      hit: 'Purchase a favor potion to increase your favor level.',\n      updatedTxt:\n        'You have successfully purchased a favor potion, and now your favor level has increased by XXX',\n      upDateTemplete: 'X',\n      fieldConfig: {\n        next: 'increaseFavor',\n      },\n      upGradePort: 'upgrade/favor',\n    },\n  ],\n}\n\nexport const EARN_CONFIG1 = {\n  title: 'Pup Youtube',\n  list: [\n    {\n      title: 'Watch Youtube Videos',\n      icon: 'youtube',\n      type: '1',\n      shareType: 'youtube',\n    },\n    {\n      title: 'Watch Youtube Videos',\n      icon: 'youtube',\n      type: '1',\n      shareType: 'youtube',\n    },\n  ],\n}\n\nexport const EARN_CONFIG2 = {\n  title: 'Tasks list',\n  list: [\n    {\n      title: 'Join our TG channel',\n      icon: 'tg',\n      type: '1',\n      shareType: 'tg',\n    },\n    {\n      title: 'Follow our X account',\n      icon: 'x',\n      type: '1',\n      shareType: 'x',\n    },\n  ],\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caterpillar_dialog_hide\":\"Boosters_caterpillar_dialog_hide__10WKC\",\"wrapper\":\"Boosters_wrapper__2-d-5\",\"ani\":\"Boosters_ani__2dUqA\",\"run\":\"Boosters_run__NkEn6\",\"card\":\"Boosters_card__2i5bP\",\"card_title\":\"Boosters_card_title__1ZqX2\",\"card_info\":\"Boosters_card_info__hNh5N\",\"icon\":\"Boosters_icon__2i4Gp\",\"num\":\"Boosters_num__2Xp-k\",\"scrolling\":\"Boosters_scrolling__1NfN-\",\"colorCycle\":\"Boosters_colorCycle__3-I7M\",\"rotate\":\"Boosters_rotate__1wW2O\",\"slide-up\":\"Boosters_slide-up__1ryTm\"};","export const UNUPDATE_CONFIG = {\n  full: 'You have reached your maximum upgrade level and cannot upgrade any further.',\n  lock: \"You can't upgrade if you don't have enough points. Click and earn more gold!\",\n}\n","import ajax from '@/Helper/ajax.js'\nimport storeUtil from '@/Utils/store'\n\nexport const getUpgradeList = async (params, isLoading) => {\n  const res = await ajax.get('upgrade/list', params, isLoading)\n  storeUtil.setUpgradeInfo(res)\n  return res\n}\n\nexport const handleUpgrade = async (port, params, isLoading) => {\n  const res = await ajax.post(port, params, isLoading)\n  return res\n}\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './index.module.scss'\nimport { numSymbol, toPercent } from '@/Utils/util'\nimport TabList from '@/Components/TabList'\nimport { BOOSTERS_CONFIG } from '@/Contanst/list'\nimport {\n  buyToolsDialog,\n  hideLoading,\n  showLoading,\n} from '@/Components/Global/export'\nimport $ from '@/Components/Global'\nimport Toast from '@/Components/Toast'\nimport storeUtil from '@/Utils/store'\nimport { UNUPDATE_CONFIG } from '@/Contanst/update'\nimport { getUpgradeList, handleUpgrade } from '@/Helper/apis/boosters'\nimport CommonWrapper from '@/Components/CommonWrapper'\n\nconst Boosters = (props) => {\n  let { upgradeInfo } = props\n\n  useEffect(() => {\n    getUpgradeList()\n  }, [])\n\n  useEffect(() => {\n    if (!upgradeInfo.energyBonus) {\n      showLoading()\n    } else {\n      hideLoading()\n    }\n  }, [upgradeInfo])\n\n  const handleItemCli = (item = {}) => {\n    let { status } = item\n    // 满级或者锁定状态提示无法升级\n    if (['full', 'lock'].includes(status)) {\n      Toast.info(status, UNUPDATE_CONFIG[status])\n      return\n    }\n\n    storeUtil.setIsBuying(false)\n    buyToolsDialog({\n      ...item,\n      handleConfirm: async () => {\n        if (storeUtil.getIsBuying()) return\n        // 请求接口购买升级\n        storeUtil.setIsBuying(true)\n        try {\n          let res = await handleUpgrade(item.upGradePort)\n          // 更新数据\n          getUpgradeList()\n          storeUtil.setIsBuying(false)\n          $.hide('dialog')\n          let updatedTxt = item.updatedTxt\n\n          if (item.type === '2') {\n            updatedTxt = updatedTxt.replace('XXX', toPercent(item.nextVal))\n          }\n          Toast.info(item.icon, updatedTxt)\n          // 更新用户当前数据\n          const { coins, energyCap, recoveryRate, bonusMultiplier } = res\n          storeUtil.setUserInfo({\n            ...storeUtil.getUserInfo(),\n            coins,\n          })\n\n          // 能量总值更新\n          if (energyCap) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              energyCap,\n            })\n          }\n\n          // 能量恢复速度更新\n          if (recoveryRate) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              rate: recoveryRate,\n            })\n          }\n          // todo 确认bonusMultiplier字段含义\n          if (bonusMultiplier) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              energyCost: bonusMultiplier,\n            })\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              favorBonus: bonusMultiplier,\n              coinBonus: bonusMultiplier,\n            })\n          }\n        } catch (err) {\n          storeUtil.setIsBuying(false)\n        }\n      },\n      handleCancel: () => {\n        if (storeUtil.getIsBuying()) return\n        $.hide('dialog')\n      },\n    })\n  }\n  return (\n    <CommonWrapper type=\"boosters\">\n      <div className={styles.wrapper}>\n        <div className={styles.ani}></div>\n        <div className={styles.card}>\n          <div className={styles.card_title}>Your Coins Balance</div>\n          <div className={styles.card_info}>\n            <div className={styles.icon}></div>\n            <div className={styles.num}>{numSymbol(upgradeInfo.coins)} </div>\n          </div>\n        </div>\n        <TabList\n          list={BOOSTERS_CONFIG.list\n            .map((item) => {\n              let { fieldConfig = {} } = item\n              let currentData = upgradeInfo[item.field]\n              if (!currentData) return null\n              let { isMax, currentLevel, upgradeCost } = currentData\n              return {\n                ...item,\n                val: currentLevel,\n                coins: upgradeCost,\n                status: isMax\n                  ? 'full'\n                  : upgradeInfo.coins < upgradeCost\n                  ? 'lock'\n                  : '',\n                currentVal: currentData[fieldConfig.current],\n                nextVal: currentData[fieldConfig.next],\n              }\n            })\n            .filter(Boolean)}\n          title={BOOSTERS_CONFIG.title}\n          styleType={1}\n          handleItemCli={handleItemCli}></TabList>\n      </div>\n    </CommonWrapper>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isBuying: state.behavior.isBuying,\n    upgradeInfo: state.user.upgradeInfo || {},\n  }\n}\n\nexport default connect(mapStateToProps)(Boosters)\n"],"sourceRoot":""}