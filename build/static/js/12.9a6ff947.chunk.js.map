{"version":3,"sources":["Contanst/list.js","Pages/Boosters/index.module.scss","Contanst/update.js","Helper/apis/boosters.js","Pages/Boosters/index.js"],"names":["BOOSTERS_CONFIG","title","list","field","icon","type","hit","updatedTxt","upDateTemplete","fieldConfig","current","next","upGradePort","module","exports","UNUPDATE_CONFIG","full","lock","lock_limit","getUpgradeList","params","isLoading","a","ajax","get","res","storeUtil","setUpgradeInfo","handleUpgrade","port","post","connect","state","isBuying","behavior","upgradeInfo","user","props","useEffect","setIsBuying","energyBonus","hideLoading","showLoading","CommonWrapper","className","styles","wrapper","ani","card","card_title","card_info","num","StorkWrapper","text","numSymbol","coins","fontSize","fontFamily","TabList","map","item","currentData","isMax","currentLevel","upgradeCost","limitCount","currentCount","val","status","currentVal","getNestedProperty","nextVal","filter","Boolean","styleType","handleItemCli","includes","Toast","info","buyToolsDialog","handleConfirm","getIsBuying","$","hide","replace","toPercent","energyCap","recoveryRate","bonus","setUserInfo","getUserInfo","setEnergyInfo","getEnergyInfo","rate","energyCost","favorBonus","coinBonus","levelUp","oldLevel","newLevel","updateDialog","level","nextLevel","levelUpCoins","handleClose","setIsUpdateLoading","handleCancel"],"mappings":"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","file":"static/js/12.9a6ff947.chunk.js","sourcesContent":["export const BOOSTERS_CONFIG = {\n  title: 'Boosters',\n  list: [\n    {\n      field: 'energyBonus',\n      title: 'Affection',\n      icon: 'affection',\n      type: '1',\n      hit: 'Purchased \"Favorability Potion\" to increase the benefit of a single click.',\n      updatedTxt:\n        'Purchased \"Favorability Boost\". Now your earnings per click limit has been increased.',\n      upDateTemplete: '+X',\n      fieldConfig: {\n        current: 'currentBonus.coinBonus',\n        next: 'nextBonus.coinBonus',\n      },\n      upGradePort: 'upgrade/energy-bonus',\n    },\n    {\n      field: 'energyCap',\n      title: 'Energy Cap',\n      icon: 'energy',\n      type: '1',\n      hit: 'Purchased \"Energy Strengthening Potion\" to increase your energy capacity.',\n      updatedTxt:\n        'Purchased \"Energy Limit Boost\". Now your energy limit has been increased.',\n      upDateTemplete: 'X',\n      fieldConfig: {\n        current: 'currentCapacity',\n        next: 'nextCapacity',\n      },\n      upGradePort: 'upgrade/energy-cap',\n    },\n    {\n      field: 'energyRecovery',\n      title: 'Recharging Speed',\n      icon: 'speed',\n      type: '1',\n      hit: 'Purchase \"Recharge Potion\" to increase the speed of your energy replenishment.',\n      updatedTxt:\n        'Purchased \"Charge Speed Up\". Now your charging speed has been increased.',\n      upDateTemplete: '+X/S',\n      fieldConfig: {\n        current: 'currentRate',\n        next: 'nextRate',\n      },\n      upGradePort: 'upgrade/energy-recovery',\n    },\n    {\n      field: 'miningStorage',\n      title: 'Storage Time',\n      icon: 'time',\n      type: '1',\n      hit: 'Purchase a Time Potion to increase your mining storage time.',\n      updatedTxt:\n        'Purchased \"Storage Time Boost\". Now your storage time has increased.',\n      upDateTemplete: 'XH',\n      fieldConfig: {\n        current: 'currentPeriodsHour',\n        next: 'nextPeriodsHour',\n      },\n      upGradePort: 'upgrade/mining-storage',\n    },\n    {\n      field: 'increaseFavor',\n      title: 'Increase Favorability',\n      icon: 'increase',\n      type: '2',\n      hit: 'Purchase a favor potion to increase your favor level.',\n      updatedTxt:\n        'You have successfully purchased a favor potion, and now your favor level has increased by XXX',\n      upDateTemplete: 'X',\n      fieldConfig: {\n        next: 'increaseFavor',\n      },\n      upGradePort: 'upgrade/favor',\n    },\n  ],\n}\n\nexport const EARN_CONFIG1 = {\n  title: 'Pup Youtube',\n  list: [\n    {\n      title: 'Watch Youtube Videos',\n      icon: 'youtube',\n      type: '1',\n      shareType: 'youtube',\n    },\n    {\n      title: 'Watch Youtube Videos',\n      icon: 'youtube',\n      type: '1',\n      shareType: 'youtube',\n    },\n  ],\n}\n\nexport const EARN_CONFIG2 = {\n  title: 'Tasks list',\n  list: [\n    {\n      title: 'Join our TG channel',\n      icon: 'tg',\n      type: '1',\n      shareType: 'tg',\n    },\n    {\n      title: 'Follow our X account',\n      icon: 'x',\n      type: '1',\n      shareType: 'x',\n    },\n  ],\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Boosters_root__3vi4D\",\"caterpillar_dialog_hide\":\"Boosters_caterpillar_dialog_hide__10WKC\",\"paint-order-supported\":\"Boosters_paint-order-supported__1gSRH\",\"wrapper\":\"Boosters_wrapper__2-d-5\",\"ani\":\"Boosters_ani__2dUqA\",\"run\":\"Boosters_run__NkEn6\",\"card\":\"Boosters_card__2i5bP\",\"card_title\":\"Boosters_card_title__1ZqX2\",\"card_info\":\"Boosters_card_info__hNh5N\",\"icon\":\"Boosters_icon__2i4Gp\",\"num\":\"Boosters_num__2Xp-k\",\"scrolling\":\"Boosters_scrolling__1NfN-\",\"colorCycle\":\"Boosters_colorCycle__3-I7M\",\"rotate\":\"Boosters_rotate__1wW2O\",\"scaleAni\":\"Boosters_scaleAni__3Dare\",\"slide-up\":\"Boosters_slide-up__1ryTm\"};","export const UNUPDATE_CONFIG = {\n  full: 'You have reached your maximum upgrade level and cannot upgrade any further.',\n  lock: \"You can't upgrade if you don't have enough points. Click and earn more gold!\",\n  lock_limit:\n    'You’ve reached today’s limit. Please come back tomorrow to purchase more!',\n}\n","import ajax from '@/Helper/ajax.js'\nimport storeUtil from '@/Utils/store'\n\nexport const getUpgradeList = async (params, isLoading) => {\n  const res = await ajax.get('upgrade/list', params, isLoading)\n  storeUtil.setUpgradeInfo(res)\n  return res\n}\n\nexport const handleUpgrade = async (port, params, isLoading) => {\n  const res = await ajax.post(port, params, isLoading)\n  return res\n}\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport styles from './index.module.scss'\nimport { getNestedProperty, numSymbol, toPercent } from '@/Utils/util'\nimport TabList from '@/Components/TabList'\nimport { BOOSTERS_CONFIG } from '@/Contanst/list'\nimport {\n  buyToolsDialog,\n  hideLoading,\n  showLoading,\n  updateDialog,\n} from '@/Components/Global/export'\nimport $ from '@/Components/Global'\nimport Toast from '@/Components/Toast'\nimport storeUtil from '@/Utils/store'\nimport { UNUPDATE_CONFIG } from '@/Contanst/update'\nimport { getUpgradeList, handleUpgrade } from '@/Helper/apis/boosters'\nimport CommonWrapper from '@/Components/CommonWrapper'\nimport { getUserInfo } from '@/Helper/apis/home'\nimport StorkWrapper from '@/Components/StorkWrapper'\n\nconst Boosters = (props) => {\n  let { upgradeInfo = {} } = props\n\n  useEffect(() => {\n    storeUtil.setIsBuying(false)\n    getUpgradeList()\n  }, [])\n\n  useEffect(() => {\n    if (!upgradeInfo.energyBonus) {\n      showLoading()\n    } else {\n      hideLoading()\n    }\n  }, [upgradeInfo.energyBonus])\n\n  const handleItemCli = (item = {}) => {\n    let { status } = item\n    // 满级或者锁定状态提示无法升级\n    if (['full', 'lock', 'lock_limit'].includes(status)) {\n      Toast.info(status, UNUPDATE_CONFIG[status])\n      return\n    }\n\n    storeUtil.setIsBuying(false)\n    buyToolsDialog({\n      ...item,\n      handleConfirm: async () => {\n        if (storeUtil.getIsBuying()) return\n        // 请求接口购买升级\n        storeUtil.setIsBuying(true)\n\n        try {\n          let res = await handleUpgrade(item.upGradePort)\n\n          // 更新数据\n          getUpgradeList()\n          storeUtil.setIsBuying(false)\n          $.hide('dialog')\n          let updatedTxt = item.updatedTxt\n\n          if (item.type === '2') {\n            updatedTxt = updatedTxt.replace('XXX', toPercent(item.nextVal))\n          }\n          Toast.info(item.icon, updatedTxt)\n          // 更新用户当前数据\n          const { coins, energyCap, recoveryRate, bonus } = res\n          storeUtil.setUserInfo({\n            ...storeUtil.getUserInfo(),\n            coins,\n          })\n\n          // 能量总值更新\n          if (energyCap) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              energyCap,\n            })\n          }\n\n          // 能量恢复速度更新\n          if (recoveryRate) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              rate: recoveryRate,\n            })\n          }\n          // 更新点击相关数据\n          if (bonus) {\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              energyCost: bonus.energyCost,\n            })\n            storeUtil.setEnergyInfo({\n              ...storeUtil.getEnergyInfo(),\n              favorBonus: bonus.favorBonus,\n              coinBonus: bonus.coinBonus,\n            })\n          }\n\n          if (res.levelUp && res.levelUp.coins) {\n            let { coins, oldLevel, newLevel } = res.levelUp || {}\n            updateDialog({\n              level: oldLevel,\n              nextLevel: {\n                level: newLevel,\n                levelUpCoins: coins,\n              },\n              handleClose: async () => {\n                storeUtil.setIsUpdateLoading(true)\n                try {\n                  // 更新首页相关数据\n                  await getUserInfo()\n                } catch (err) {}\n                storeUtil.setIsUpdateLoading(false)\n                $.hide('dialog')\n              },\n            })\n            return\n          }\n        } catch (err) {\n          storeUtil.setIsBuying(false)\n        }\n      },\n      handleCancel: () => {\n        if (storeUtil.getIsBuying()) return\n        $.hide('dialog')\n      },\n    })\n  }\n  return (\n    <CommonWrapper type=\"boosters\">\n      <div className={`${styles.wrapper}`}>\n        <div className={styles.ani}></div>\n        <div className={styles.card}>\n          <div className={styles.card_title}>Your Coins Balance</div>\n          <div className={styles.card_info}>\n            <div className={styles.icon}></div>\n            <div className={styles.num}>\n              <StorkWrapper\n                text={numSymbol(upgradeInfo?.coins)}\n                fontSize={44}\n                fontFamily={'Kemco Pixel'}></StorkWrapper>\n              {/* {numSymbol(upgradeInfo.coins)} */}\n            </div>\n          </div>\n        </div>\n        <TabList\n          list={BOOSTERS_CONFIG.list\n            .map((item) => {\n              let { fieldConfig = {} } = item || {}\n              let currentData = (upgradeInfo || {})[item.field]\n              if (!currentData) return null\n              let {\n                isMax,\n                currentLevel,\n                upgradeCost,\n                limitCount = 3,\n                currentCount = 2,\n              } = currentData\n              return {\n                ...item,\n                val: currentLevel,\n                coins: upgradeCost,\n                status: isMax\n                  ? 'full'\n                  : upgradeInfo.coins < upgradeCost\n                  ? 'lock'\n                  : limitCount > 0 && currentCount <= 0\n                  ? 'lock_limit'\n                  : '',\n                currentVal: getNestedProperty(currentData, fieldConfig.current),\n                nextVal: getNestedProperty(currentData, fieldConfig.next),\n                limitCount,\n                currentCount,\n              }\n            })\n            .filter(Boolean)}\n          title={BOOSTERS_CONFIG.title}\n          styleType={1}\n          handleItemCli={handleItemCli}></TabList>\n      </div>\n    </CommonWrapper>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isBuying: state.behavior.isBuying,\n    upgradeInfo: state.user.upgradeInfo || {},\n  }\n}\n\nexport default connect(mapStateToProps)(Boosters)\n"],"sourceRoot":""}